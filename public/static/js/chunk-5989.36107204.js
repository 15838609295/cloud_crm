(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5989"],{XaSe:function(e,t,a){"use strict";a.r(t);var i=a("P2sY"),r=a.n(i),o=a("zAZ/"),n={data:function(){return{member_id:"",type:1,activeNames:["1","2","3"],datePickerOptions:{shortcuts:[{text:"1天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"3天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+2592e5),e.$emit("pick",t)}},{text:"一周",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"两周",onClick:function(e){var t=new Date;t.setTime(t.getTime()+12096e5),e.$emit("pick",t)}},{text:"一个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",t)}},{text:"三个月",onClick:function(e){var t=new Date;t.setTime(t.getTime()+7776e6),e.$emit("pick",t)}}]},searchTerms:{searchValue:""},progressList:["初步沟通","需求分析","展示引导","方案报价","协商议价","成单签约","丢单"],info:{star_class:0,contact_time:"",next_contact_time:""},supportData:{remind_time:"",expire:"",details:"",account_number:[],trusteeship:[],annex:[]},logForm:{member_id:"",is_contact:1,contentlog:"",comm_time:""},adminList:[],managerFormVisible:!1,managerForm:{member_id:"",manager_id:"",maintain_id:"",duty_id:""},accountFormVisible:!1,accountForm:{},codeFormVisible:!1,codeForm:{},fileUploadUrl:this.$store.getters.serverUrl+"/admin/ajax/uploadAnnex",fileFormVisible:!1,fileForm:{},contractUploadUrl:this.$store.getters.serverUrl+"/admin/ajax/uploadContract",contractData:[],contractFormVisible:!1,contractForm:{},customerOrder:[],tableLoading:!1,currentPage:1,pageSize:this.$store.getters.userInfo.pageSize,pageSizes:[10,20,50,100,1e3],total:0}},watch:{},created:function(){this.member_id=this.$route.query.id,this.type=this.$route.query.type+"",this.getCustomerLog(),this.getAdminList(),this.getSupportData(),this.getContractList(),this.getCustomerOrder()},methods:{handleCurrentChange:o.c,handleSizeChange:o.d,handleSortChange:o.e,columnCheck:o.a,parseTime:o.f,getCustomerLog:function(){var e=this,t="/member/contactLog/"+this.member_id;this.$store.dispatch("GetConnect",{url:t}).then(function(t){r()(e.info,t.data),e.managerForm={member_id:t.data.id,manager_id:t.data.manager_id,maintain_id:t.data.maintain_id,duty_id:t.data.duty_id}}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},getAdminList:function(){var e=this;this.$store.dispatch("GetConnect",{url:"user/all-list"}).then(function(t){e.adminList=t.data}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},showDialog:function(e,t){t?(r()(this[e],t.row),this[e].id=t.$index,this[e].member_id=this.member_id,this[e].title="修改"):"managerForm"!==e&&(this[e]={member_id:this.member_id,title:"添加"}),this[e+"Visible"]=!0},saveCustomerLevel:function(){var e=this,t={member_id:this.member_id,star_class:this.info.star_class};this.$store.dispatch("GetConnect",{url:"member/updateStarClass",data:t}).then(function(t){e.$message.success("修改成功~")}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},submitDialog:function(e){var t=this;this.$refs[e].validate(function(a){if(a){var i=r()({},t[e]),o="";"managerForm"===e?o="member/memberAssignLog":"accountForm"===e?(o="member/addAccountNumber","修改"===t[e].title&&(o="member/updateAccount")):"codeForm"===e?(o="member/addTrusteeship","修改"===t[e].title&&(o="member/updateTrusteeship")):"fileForm"===e?(o="member/addAnnex","修改"===t[e].title&&(o="member/updateAnnex")):"contractForm"===e&&(o="member/addContract"),t.$store.dispatch("GetConnect",{url:o,data:i}).then(function(a){t.$message.success(a.msg),t[e]={},t[e+"Visible"]=!1,t.getCustomerLog(),t.getSupportData(),t.getContractList()}).catch(function(e){t.$message.error(e.msg)})}else t.$message.error("提交失败,请检查必填项")})},resetDialog:function(e){this.$refs[e].resetFields(),"fileForm"!==e&&"contractForm"!==e||this.$refs[e].$children[0].$children[0].$children[0].clearFiles()},submit:function(){var e=this;if(this.logForm.comm_time&&""!==this.logForm.comm_time&&null!==this.logForm.comm_time||1!==this.logForm.is_contact){var t=r()({},this.logForm);t.member_id=this.member_id;this.$store.dispatch("GetConnect",{url:"member/contact",data:t}).then(function(t){e.$message.success("沟通记录添加成功"),e.getCustomerLog()}).catch(function(t){e.$message.error(t.msg)})}else this.$message.error("检查时间是否选择")},getSupportData:function(){var e=this,t={member_id:this.member_id};this.$store.dispatch("GetConnect",{url:"member/addmaintainList",data:t}).then(function(t){e.supportData=t.data}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},saveRemindTime:function(){var e=this,t={member_id:this.member_id,remind_time:this.supportData.remind_time};this.$store.dispatch("GetConnect",{url:"member/updateRemind",data:t}).then(function(t){e.$message.success("修改成功~"),e.getCustomerLog(),e.getSupportData()}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},saveCustomerRemarks:function(){var e=this,t={member_id:this.member_id,details:this.supportData.details};this.$store.dispatch("GetConnect",{url:"member/updateDetails",data:t}).then(function(t){e.$message.success("修改成功~"),e.getCustomerLog(),e.getSupportData()}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},deleteSupperData:function(e,t){var a=this;this.$confirm("此操作将记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i={type:e,member_id:a.member_id,id:t.$index};a.$store.dispatch("GetConnect",{url:"member/delDataInfo",data:i}).then(function(){a.getSupportData(),a.getContractList(),a.$message.success("操作成功")}).catch(function(e){a.$message.error(e.msg)})})},getContractList:function(){var e=this,t={member_id:this.member_id};this.$store.dispatch("GetConnect",{url:"member/contractList",data:t}).then(function(t){e.contractData=t.data}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},getCustomerOrder:function(){var e=this,t={member_id:this.member_id,search:this.searchValue,pageNo:this.pageNo,pageSize:this.pageSize};this.$store.dispatch("GetConnect",{url:"member/ordersMember",data:t}).then(function(t){e.customerOrder=t.data.rows,e.total=t.data.total}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},toDownLoad:function(e){var t=document.createElement("a");t.target="_blank",t.href="https://crmweb.netbcloud.com/admin/download/file?token="+this.$store.getters.token+"&url="+e.url,t.download=e.name||e.describe,t.click()},confirmOrder:function(e,t){var a=this;this.$confirm("此操作将退款该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i={id:e.id,c:t,pay_type:"refund"};a.$store.dispatch("GetConnect",{url:"order/del",data:i}).then(function(){a.getData(),a.$message.success("操作成功"),a.dialogVisible=!1}).catch(function(e){a.$message.error(e.msg)})})}}},s=(a("sF2I"),a("KHd+")),l=Object(s.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"pane-card"},[a("el-tabs",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-tab-pane",{staticClass:"communicate-pane",attrs:{name:"1",label:"沟通记录"}},[a("div",{staticClass:"manage-box"},[a("div",[e._v("客户经理："+e._s(e.info.manager_name))]),e._v(" "),a("div",[e._v("运维支持："+e._s(e.info.maintain_name))]),e._v(" "),a("div",[e._v("项目负责："+e._s(e.info.duty_name))]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.showDialog("managerForm")}}},[e._v("编辑")])],1),e._v(" "),a("div",{staticClass:"level-box"},[a("p",[a("b",[e._v("客户星级： ")])]),e._v(" "),a("el-rate",{attrs:{texts:["一星客户","二星客户","三星客户","四星客户","五星客户"],"show-text":""},on:{change:e.saveCustomerLevel},model:{value:e.info.star_class,callback:function(t){e.$set(e.info,"star_class",t)},expression:"info['star_class']"}})],1),e._v(" "),a("div",{staticClass:"assignment-log"},[a("h4",[e._v("● 指派记录")]),e._v(" "),a("el-card",[a("el-row",e._l(e.info.assign_log,function(t,i){return a("el-col",{key:i,attrs:{xs:12,sm:8,md:7,lg:6,xl:4}},[a("h1",[e._v(e._s(t.assign_admin))]),e._v(" "),a("span",[e._v(e._s(t.created_at))])])}))],1)],1),e._v(" "),a("div",{staticClass:"customer-info"},[a("h4",[e._v("客户信息")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",[e._v("名称："+e._s(e.info.name))]),e._v(" "),a("div",[e._v("电话："+e._s(e.info.mobile))]),e._v(" "),a("div",[e._v("其他电话："+e._s(e.info.spare_mobile))]),e._v(" "),a("div",[e._v("备注："+e._s(e.info.remarks))])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",[e._v("微信："+e._s(e.info.wechat))]),e._v(" "),a("div",[e._v("QQ："+e._s(e.info.qq))]),e._v(" "),a("div",[e._v("邮箱："+e._s(e.info.email))]),e._v(" "),a("div",[e._v("座机："+e._s(e.info.telephone))])])],1),e._v(" "),a("div",{staticClass:"communicate-log"},[a("h4",[e._v("● 沟通记录")]),e._v(" "),a("div",{staticClass:"next-time"},[e._v("下次联系时间："+e._s(e.info.contact_next_time))]),e._v(" "),e.info.contact_log&&0!==e.info.contact_log.length?e._e():a("el-card",[a("div",[e._v("空空如也~")])]),e._v(" "),e._l(e.info.contact_log,function(t,i){return a("div",{key:i,staticClass:"timeline"},[a("el-row",{staticClass:"content"},[a("el-card",[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.admin_name))]),e._v(" "),a("div",{staticClass:"text-right",staticStyle:{color:"#b7b7b7"}},[e._v(e._s(t.created_at))])]),e._v(" "),a("div",{staticClass:"body",domProps:{innerHTML:e._s(t.contentlog)}},[e._v(e._s(t.contentlog))])])],1)],1)})],2),e._v(" "),a("div",{staticClass:"add-log"},[a("h4",[e._v("添加新记录")]),e._v(" "),a("div",{staticClass:"radio"},[a("div",[e._v("是否需要继续联系：")]),e._v(" "),a("el-radio-group",{model:{value:e.logForm.is_contact,callback:function(t){e.$set(e.logForm,"is_contact",t)},expression:"logForm.is_contact"}},[a("el-radio",{attrs:{label:1}},[e._v("需要")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("不需要")])],1)],1),e._v(" "),a("div",[a("div",[e._v("下次联系：")]),e._v(" "),a("el-date-picker",{attrs:{"picker-options":e.datePickerOptions,type:"datetime",placeholder:"选择日期时间",align:"right"},model:{value:e.logForm.comm_time,callback:function(t){e.$set(e.logForm,"comm_time",t)},expression:"logForm.comm_time"}}),e._v(" "),a("div",{staticClass:"remark"},[e._v("      *注:请选择10年以内日期")])],1),e._v(" "),a("div",[a("div",[e._v("沟通内容：")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:e.logForm.contentlog,callback:function(t){e.$set(e.logForm,"contentlog",t)},expression:"logForm.contentlog"}})],1),e._v(" "),a("div",[a("el-button",{staticClass:"bg-green",attrs:{type:"success"},on:{click:e.submit}},[e._v("确 定")])],1)])]),e._v(" "),a("el-tab-pane",{staticClass:"support-pane",attrs:{name:"2",label:"运维支持"}},[a("div",{staticClass:"remind"},[a("div",{staticClass:"title"},[a("label",[e._v("到期提醒：")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间",size:"small","value-format":"yyyy-MM-dd"},on:{change:e.saveRemindTime},model:{value:e.supportData.remind_time,callback:function(t){e.$set(e.supportData,"remind_time",t)},expression:"supportData.remind_time"}}),e._v(" "),a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.supportData.expire)+"天")])],1),e._v(" "),a("div",{staticClass:"title"},[a("label",[e._v("客户备注：")]),e._v(" "),a("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",autosize:""},model:{value:e.supportData.details,callback:function(t){e.$set(e.supportData,"details",t)},expression:"supportData.details"}}),e._v(" "),a("el-button",{staticClass:"bg-green",attrs:{type:"success",autosize:"",size:"small"},on:{click:e.saveCustomerRemarks}},[e._v("保存")])],1)]),e._v(" "),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("b",[e._v("账号信息")])]),e._v(" "),a("div",{staticClass:"account"},[a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small"},on:{click:function(t){e.showDialog("accountForm")}}},[e._v("添加账号")]),e._v(" "),a("el-table",{attrs:{data:e.supportData.account_number,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账号","min-width":"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"password",label:"密码","min-width":"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"备注","min-width":"400"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small",icon:"el-icon-edit",circle:""},on:{click:function(a){e.showDialog("accountForm",t)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",circle:""},on:{click:function(a){e.deleteSupperData("account",t)}}})]}}])})],1)],1)],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("b",[e._v("代码托管地址")])]),e._v(" "),a("div",{staticClass:"account"},[a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small"},on:{click:function(t){e.showDialog("codeForm")}}},[e._v("添加记录")]),e._v(" "),a("el-table",{attrs:{data:e.supportData.trusteeship,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"地址",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"描述","min-width":"420"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small",icon:"el-icon-edit",circle:""},on:{click:function(a){e.showDialog("codeForm",t)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",circle:""},on:{click:function(a){e.deleteSupperData("trusteeship",t)}}})]}}])})],1)],1)],2),e._v(" "),a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("b",[e._v("附件管理")])]),e._v(" "),a("div",{staticClass:"account"},[a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small"},on:{click:function(t){e.showDialog("fileForm")}}},[e._v("上传附件")]),e._v(" "),a("el-table",{attrs:{data:e.supportData.annex,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"地址","min-width":"360"}}),e._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"备注","min-width":"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"admin_name",label:"更新时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download",circle:""},on:{click:function(a){e.toDownLoad(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",circle:""},on:{click:function(a){e.deleteSupperData("annex",t)}}})]}}])})],1)],1)],2)],1)],1),e._v(" "),a("el-tab-pane",{staticClass:"contract-pane",attrs:{name:"3",label:"合同管理"}},[a("div",{staticClass:"title"},[a("div",{staticClass:"label"},[e._v("合同管理")]),e._v(" "),a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small"},on:{click:function(t){e.showDialog("contractForm")}}},[e._v("上传合同")])],1),e._v(" "),a("el-table",{attrs:{data:e.contractData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"地址","min-width":"240"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"描述",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updata_at",label:"更新时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download",circle:""},on:{click:function(a){e.toDownLoad(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",circle:""},on:{click:function(a){e.deleteSupperData("contract",t)}}})]}}])})],1)],1),e._v(" "),a("el-tab-pane",{staticClass:"order-pane",attrs:{name:"4",label:"订单详细"}},[a("div",{staticClass:"header"},[a("div",[a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入内容（商品名称）"},model:{value:e.searchTerms.searchValue,callback:function(t){e.$set(e.searchTerms,"searchValue",t)},expression:"searchTerms.searchValue"}}),e._v(" "),a("el-button",{staticClass:"do-btn",attrs:{type:"success",icon:"el-icon-search"}},[e._v("搜索")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.customerOrder,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"70","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"member_name",label:"客户名称","min-width":"120","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"member_phone",label:"手机","min-width":"120","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称","min-width":"160","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_money",label:"商品金额","min-width":"120","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buy_time",label:"购买时间","min-width":"160","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.parseTime(t.row.buy_time,"{y}-{m}-{d}"))+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"order_number",label:"订单号","min-width":"160","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_bonus",label:"订单提成","min-width":"100","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"提交人","min-width":"80","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注(拒绝备注)","min-width":"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(2===t.row.status?t.row.refuse_remarks:t.row.remarks)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"order_status",label:"订单状态","min-width":"100","header-align":"center",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",{attrs:{type:"warning"}},[e._v("审核中")]):1===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("审核成功")]):2===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("已拒绝")]):a("el-tag",{attrs:{type:"info"}},[e._v("已退款")])]}}])}),e._v(" "),e._e()],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{visible:e.managerFormVisible,title:"负责人修改",width:"480px",center:""},on:{"update:visible":function(t){e.managerFormVisible=t},close:function(t){e.resetDialog("managerForm")}}},[a("el-form",{ref:"managerForm",attrs:{model:e.managerForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"客户经理"}},[a("el-select",{attrs:{filterable:""},model:{value:e.managerForm.manager_id,callback:function(t){e.$set(e.managerForm,"manager_id",t)},expression:"managerForm['manager_id']"}},e._l(e.adminList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"运维支持"}},[a("el-select",{attrs:{filterable:""},model:{value:e.managerForm.maintain_id,callback:function(t){e.$set(e.managerForm,"maintain_id",t)},expression:"managerForm['maintain_id']"}},e._l(e.adminList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"项目负责"}},[a("el-select",{attrs:{filterable:""},model:{value:e.managerForm.duty_id,callback:function(t){e.$set(e.managerForm,"duty_id",t)},expression:"managerForm['duty_id']"}},e._l(e.adminList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.managerFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitDialog("managerForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{visible:e.accountFormVisible,title:e.accountForm.title+"账号信息",width:"480px",center:""},on:{"update:visible":function(t){e.accountFormVisible=t},close:function(t){e.resetDialog("accountForm")}}},[a("el-form",{ref:"accountForm",attrs:{model:e.accountForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{model:{value:e.accountForm.account,callback:function(t){e.$set(e.accountForm,"account",t)},expression:"accountForm['account']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.accountForm.password,callback:function(t){e.$set(e.accountForm,"password",t)},expression:"accountForm['password']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.accountForm.name,callback:function(t){e.$set(e.accountForm,"name",t)},expression:"accountForm['name']"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.accountFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitDialog("accountForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{visible:e.codeFormVisible,title:e.codeForm.title+"代码托管信息",width:"480px",center:""},on:{"update:visible":function(t){e.codeFormVisible=t},close:function(t){e.resetDialog("codeForm")}}},[a("el-form",{ref:"codeForm",attrs:{model:e.codeForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{model:{value:e.codeForm.url,callback:function(t){e.$set(e.codeForm,"url",t)},expression:"codeForm['url']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{model:{value:e.codeForm.describe,callback:function(t){e.$set(e.codeForm,"describe",t)},expression:"codeForm['describe']"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.codeFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitDialog("codeForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{visible:e.fileFormVisible,title:"上传附件",width:"580px",center:""},on:{"update:visible":function(t){e.fileFormVisible=t},close:function(t){e.resetDialog("fileForm")}}},[a("el-form",{ref:"fileForm",attrs:{model:e.fileForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"文件"}},[a("ws-upload-single-file",{attrs:{path:e.fileForm.url,api:e.fileUploadUrl},model:{value:e.fileForm.url,callback:function(t){e.$set(e.fileForm,"url",t)},expression:"fileForm['url']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{model:{value:e.fileForm.describe,callback:function(t){e.$set(e.fileForm,"describe",t)},expression:"fileForm['describe']"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitDialog("fileForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{visible:e.contractFormVisible,title:"上传合同",width:"580px",center:""},on:{"update:visible":function(t){e.contractFormVisible=t},close:function(t){e.resetDialog("contractForm")}}},[a("el-form",{ref:"contractForm",attrs:{model:e.contractForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.contractForm.name,callback:function(t){e.$set(e.contractForm,"name",t)},expression:"contractForm['name']"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件"}},[a("ws-upload-single-file",{attrs:{path:e.contractForm.url,api:e.contractUploadUrl},model:{value:e.contractForm.url,callback:function(t){e.$set(e.contractForm,"url",t)},expression:"contractForm['url']"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fileFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitDialog("contractForm")}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"045eaadc",null);l.options.__file="details.vue";t.default=l.exports},dsOy:function(e,t,a){},sF2I:function(e,t,a){"use strict";var i=a("dsOy");a.n(i).a},"zAZ/":function(e,t,a){"use strict";a.d(t,"e",function(){return o}),a.d(t,"c",function(){return n}),a.d(t,"d",function(){return s}),a.d(t,"a",function(){return l}),a.d(t,"f",function(){return c}),a.d(t,"b",function(){return m});var i=a("EJiy"),r=a.n(i);function o(e){var t=e.column,a=e.prop,i=e.order;this.order={column:t,prop:a,order:i},this.getData({sortName:a,sortOrder:i&&("ascending"===i?"asc":"desc")})}function n(e){this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function s(e){this.$store.getters.userInfo.pageSize=e,this.pageSize=e,this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function l(e){this.th[e].check=!this.th[e].check}function c(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",i=void 0;"object"===(void 0===e?"undefined":r()(e))?i=e:(10===(""+e).length&&(e=1e3*parseInt(e)),i=new Date(e));var o={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=o[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function m(e){var t=e.substr(0,10);t=t.replace(/-/g,"/");var a=new Date(t),i=new Date;i=i.valueOf();var r=Math.ceil((a-i)/864e5);return 0===r?"今天":r>0&&r<30?r+"天":r>=30&&r<360?Math.ceil(r/30)+"月":r>=360?Math.ceil(r/360)+"年":"逾期"+Math.ceil((i-a)/864e5)+"天"}}}]);