(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c8bb"],{"14Jr":function(e,t,a){"use strict";a.r(t);var n=a("YbJm"),r=a("7Qib"),s={components:{ColumnController:n.a},data:function(){return{isShow:!1,searchTerms:{submitter:"",state:"",date:"",input:""},departments:[{value:"1",label:"网商"},{value:"2",label:"百花"},{value:"3",label:"后浪"},{value:"4",label:"蓝书"},{value:"5",label:"腾讯"},{value:"6",label:"中琛源"},{value:"7",label:"码农"}],dialogVisible:!1,transfer:{id:"",where:0,toId:""},multipleSelection:[],currentPage:1,pageSize:this.$store.getters.userInfo.pageSize,total:30,tableData:[{id:190,customer_name:"朱峰",customer_status:0,company:"深圳网商天下科技开发有限公司",assignor:"root",uploader:"许堉颖",source:"腾讯云推广",project:"腾讯云体验",signin_date:"2018-09-19",updata_date:"2018-09-19",contact_date:"未联系"},{id:190,customer_name:"朱峰",customer_status:0,company:"深圳网商天下科技开发有限公司",assignor:"root",uploader:"许堉颖",source:"腾讯云推广",project:"腾讯云体验",signin_date:"2018-09-19",updata_date:"2018-09-19",contact_date:"未联系"},{id:190,customer_name:"朱峰",customer_status:0,company:"深圳网商天下科技开发有限公司",assignor:"root",uploader:"许堉颖",source:"腾讯云推广",project:"腾讯云体验",signin_date:"2018-09-19",updata_date:"2018-09-19",contact_date:"未联系"},{id:190,customer_name:"朱峰",customer_status:0,company:"深圳网商天下科技开发有限公司",assignor:"root",uploader:"许堉颖",source:"腾讯云推广",project:"腾讯云体验",signin_date:"2018-09-19",updata_date:"2018-09-19",contact_date:"2018-09-19"},{id:190,customer_name:"朱峰",customer_status:0,company:"深圳网商天下科技开发有限公司",assignor:"root",uploader:"许堉颖",source:"腾讯云推广",project:"腾讯云体验",signin_date:"2018-09-19",updata_date:"2018-09-19",contact_date:"2018-09-19"},{id:190,customer_name:"朱峰",customer_status:0,company:"深圳网商天下科技开发有限公司",assignor:"root",uploader:"许堉颖",source:"腾讯云推广",project:"腾讯云体验",signin_date:"2018-09-19",updata_date:"2018-09-19",contact_date:"2018-09-19"},{id:190,customer_name:"朱峰",customer_status:0,company:"深圳网商天下科技开发有限公司",assignor:"root",uploader:"许堉颖",source:"腾讯云推广",project:"腾讯云体验",signin_date:"2018-09-19",updata_date:"2018-09-19",contact_date:"2018-09-19"}],th:[{name:"客户名称",check:!0},{name:"跟进状态",check:!0},{name:"公司",check:!0},{name:"指派人",check:!0},{name:"上传者",check:!0},{name:"来源",check:!0},{name:"项目",check:!0},{name:"注册时间",check:!0},{name:"更新时间",check:!0},{name:"联系时间",check:!0}]}},watch:{$route:function(e){var t=this;"客户公海"===e.name?setTimeout(function(){t.isShow=!0},500):this.isShow=!1}},created:function(){"客户公海"===this.$route.name&&(this.isShow=!0)},methods:{columnCheck:function(e){this.th[e].check=!this.th[e].check},handleSizeChange:function(e){},handleCurrentChange:function(e){},search:function(){},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},beforeUpload:function(e){var t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t||this.$message.error("导入失败,请检查导入的文件是否是.xlsx或.xls文件"),t},uploadSuccess:function(e,t,a){this.$message({message:"导入成功",type:"success"})},toTransfer:function(){this.dialogVisible=!0},toDelete:function(){var e=this;this.$confirm("此操作将删除该业绩订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"})})},toRecord:function(){this.isShow=!1,this.$router.push({path:"/customer/mine/record"})},toModify:function(e){this.isShow=!1,this.$router.push({path:"/customer/mine/modify",query:{title:e}})},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([a.e("chunk-462e"),a.e("chunk-3749")]).then(a.bind(null,"S/jZ")).then(function(t){var a=e.tableData,n=e.formatJson(["customer_name","customer_status","company","assignor","uploader","source","project","signin_date","updata_date","contact_date"],a);t.export_json_to_excel({header:["客户名称","跟进状态","公司","指派人","上传者","来源","项目","注册时间","更新时间","联系时间"],data:n,filename:"客户列表",autoWidth:!0}),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?Object(r.d)(t[e]):t[e]})})}}},c=(a("9loK"),a("KHd+")),o=Object(c.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container bg-gray"},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("router-view")],1),e._v(" "),e.isShow?a("el-card",{staticClass:"box-1"},[a("div",{staticClass:"header"},[a("div",{staticClass:"bar"},[a("el-select",{staticClass:"select",attrs:{placeholder:"来源",filterable:""},model:{value:e.searchTerms.submitter,callback:function(t){e.$set(e.searchTerms,"submitter",t)},expression:"searchTerms.submitter"}},e._l(e.departments,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{staticClass:"select",attrs:{placeholder:"状态"},model:{value:e.searchTerms.state,callback:function(t){e.$set(e.searchTerms,"state",t)},expression:"searchTerms.state"}},e._l(e.departments,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{staticClass:"select",attrs:{placeholder:"指派人",filterable:""},model:{value:e.searchTerms.submitter,callback:function(t){e.$set(e.searchTerms,"submitter",t)},expression:"searchTerms.submitter"}},e._l(e.departments,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{staticClass:"select",attrs:{placeholder:"跟进状态"},model:{value:e.searchTerms.state,callback:function(t){e.$set(e.searchTerms,"state",t)},expression:"searchTerms.state"}},e._l(e.departments,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-tooltip",{attrs:{content:"下次联系时间",placement:"top"}},[a("el-date-picker",{staticClass:"picker",attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchTerms.date,callback:function(t){e.$set(e.searchTerms,"date",t)},expression:"searchTerms.date"}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"注册时间",placement:"top"}},[a("el-date-picker",{staticClass:"picker",attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchTerms.date,callback:function(t){e.$set(e.searchTerms,"date",t)},expression:"searchTerms.date"}})],1),e._v(" "),a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入内容"},on:{change:e.search},model:{value:e.searchTerms.input,callback:function(t){e.$set(e.searchTerms,"input",t)},expression:"searchTerms.input"}}),e._v(" "),a("el-button",{staticClass:"do-btn",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"info",icon:"el-icon-tickets"}},[a("a",{attrs:{href:e.$store.getters.serverUrl+"/customer/getdownload?c=demo"}},[e._v("导入模板")])]),e._v(" "),a("el-upload",{staticClass:"upload",attrs:{limit:1,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,accept:".xls,.xlsx",action:"https://jsonplaceholder.typicode.com/posts/"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-printer"}},[e._v("批量导入")])],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-printer"},on:{click:e.handleDownload}},[e._v("批量导出")]),e._v(" "),a("el-button",{staticClass:"bg-green",attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(t){e.toModify("新增客户")}}},[e._v("批量添加")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"}},[e._v("批量删除")]),e._v(" "),a("span",{staticClass:"flex-1"}),e._v(" "),a("div",{staticClass:"add-custmer-num"},[a("span",[e._v("今日剩余可添加客户数：")]),e._v(" "),a("h1",[e._v("10")]),e._v(" "),a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"mini"}},[e._v("申请临时额度")]),e._v(" "),a("column-controller",{attrs:{"check-items":e.th},on:{change:e.columnCheck}})],1)],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"default-sort":{prop:"id",order:"descending"},border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50","header-align":"center",align:"center"}}),e._v(" "),e.th[0].check?a("el-table-column",{attrs:{prop:"customer_name",label:"客户名称","min-width":"100","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[1].check?a("el-table-column",{attrs:{prop:"customer_status",label:"跟进状态","min-width":"100","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[2].check?a("el-table-column",{attrs:{prop:"company",label:"公司","min-width":"250","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[3].check?a("el-table-column",{attrs:{prop:"assignor",label:"指派人","min-width":"90","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[4].check?a("el-table-column",{attrs:{prop:"uploader",label:"上传者","min-width":"90","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[5].check?a("el-table-column",{attrs:{prop:"source",label:"来源","min-width":"120","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[6].check?a("el-table-column",{attrs:{prop:"project",label:"项目","min-width":"120","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[7].check?a("el-table-column",{attrs:{prop:"signin_date",label:"注册时间","min-width":"130","header-align":"center",align:"center",sortable:""}}):e._e(),e._v(" "),e.th[8].check?a("el-table-column",{attrs:{prop:"updata_date",label:"更新时间","min-width":"130","header-align":"center",align:"center",sortable:""}}):e._e(),e._v(" "),e.th[9].check?a("el-table-column",{attrs:{prop:"contact_date",label:"联系时间","min-width":"120","header-align":"center",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"primary"}},[e._v(e._s(t.row.contact_date))])]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"200","header-align":"center",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:"详情",placement:"top"}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",circle:""},on:{click:function(t){e.toModify("客户详情")}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"添加至我的客户",placement:"top"}},[a("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small",icon:"el-icon-plus",circle:""},on:{click:e.toRecord}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"删除",placement:"top"}},[a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",circle:""}})],1)]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.total,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.handleCurrentChange}})],1):e._e(),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{visible:e.dialogVisible,title:"客户转移",width:"25%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"content"},[a("div",{staticClass:"text"},[e._v("将所选 "+e._s(e.multipleSelection.length)+" 位客户转移至\n        "),a("el-radio-group",{model:{value:e.transfer.where,callback:function(t){e.$set(e.transfer,"where",t)},expression:"transfer.where"}},[a("el-radio",{attrs:{label:0}},[e._v("公海")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("销售")])],1)],1),e._v(" "),1==e.transfer.where?a("el-select",{attrs:{placeholder:"请选择转移用户",filterable:""},model:{value:e.transfer.toId,callback:function(t){e.$set(e.transfer,"toId",t)},expression:"transfer.toId"}},e._l(e.departments,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.toTransfer}},[e._v("确 定")])],1)])],1)},[],!1,null,"4ba7bc76",null);o.options.__file="index.vue";t.default=o.exports},"7Qib":function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return u}),a.d(t,"c",function(){return d});var n=a("14Xm"),r=a.n(n),s=a("D3Ub"),c=a.n(s),o=(a("4d7F"),a("EJiy")),l=a.n(o);function i(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",n=void 0;"object"===(void 0===e?"undefined":l()(e))?n=e:(10===(""+e).length&&(e=1e3*parseInt(e)),n=new Date(e));var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=r[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function u(e,t,a){var n=void 0,r=void 0,s=void 0,c=void 0,o=void 0,l=function l(){var i=+new Date-c;i<t&&i>0?n=setTimeout(l,t-i):(n=null,a||(o=e.apply(s,r),n||(s=r=null)))};return function(){for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];s=this,c=+new Date;var d=a&&!n;return n||(n=setTimeout(l,t)),d&&(o=e.apply(s,i),s=i=null),o}}function d(e){var t=void 0,a=e.split("-"),n=parseInt(a[0]),r=parseInt(a[1]),s=parseInt(a[2]),c=new Date,o=c.getFullYear(),l=c.getMonth()+1,i=c.getDate();if(o===n)t=0;else{var u=o-n;if(u>0)if(l===r)t=i-s<0?u-1:u;else t=l-r<0?u-1:u;else t=-1}return t}t.b=function(){var e=c()(r.a.mark(function e(t,a,n){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),(s=new Image).src=t,e.next=5,s.onload;case 5:if(console.log(s.width,s.height),a/n!=s.width/s.height){e.next=8;break}return e.abrupt("return",s.width+"px * "+s.height+"px");case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},"9loK":function(e,t,a){"use strict";var n=a("WpvV");a.n(n).a},MO55:function(e,t,a){"use strict";var n=a("gEZL");a.n(n).a},WpvV:function(e,t,a){},YbJm:function(e,t,a){"use strict";var n={props:{checkItems:{type:Array,default:function(){return[]}}},data:function(){return{checkList:[]}},created:function(){for(var e in this.checkItems)this.checkItems[e].check&&this.checkList.push(this.checkItems[e].name)},methods:{change:function(e){this.$emit("change",e)}}},r=(a("MO55"),a("KHd+")),s=Object(r.a)(n,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{staticClass:"controller",attrs:{"hide-on-click":!1}},[n("img",{attrs:{src:a("vtJi")}}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("div",{staticClass:"title"},[e._v("列控制器")]),e._v(" "),n("el-checkbox-group",{attrs:{min:1},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.checkItems,function(t,a){return n("el-dropdown-item",{key:a,attrs:{divided:0==a}},[n("el-checkbox",{attrs:{label:t.name},on:{change:function(t){e.change(a)}}})],1)}))],1)],1)},[],!1,null,"caf1a010",null);s.options.__file="ColumnController.vue";var c=s.exports;a.d(t,"a",function(){return c})},gEZL:function(e,t,a){},vtJi:function(e,t){e.exports="data:image/png;base64,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"}}]);