(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4084"],{"6HYU":function(e,t,n){"use strict";var a=n("EtFe");n.n(a).a},Cseb:function(e,t,n){"use strict";n.r(t);var a=n("YbJm"),r=n("zAZ/"),c={components:{ColumnController:a.a},data:function(){return{searchTerms:{searchValue:""},tableMaxHeight:document.documentElement.clientHeight-280,tableLoading:!1,currentPage:1,pageSize:this.$store.getters.userInfo.pageSize,pageSizes:[10,20,50,100,1e3],total:0,tableData:[],th:[{name:"ID",check:!0},{name:"商品名称",check:!0},{name:"订单号",check:!0},{name:"商品类型",check:!0},{name:"购买用户",check:!0},{name:"单价数量",check:!0},{name:"总价",check:!0},{name:"交易时间",check:!0},{name:"提交人",check:!0},{name:"支付状态",check:!0},{name:"订单状态",check:!0},{name:"操作",check:!0}]}},created:function(){this.getData()},methods:{handleCurrentChange:r.c,handleSizeChange:r.d,handleSortChange:r.e,columnCheck:r.a,parseTime:r.f,getData:function(e){var t=this;this.tableLoading=!0,e||(e={});var n={page_no:this.currentPage,page_size:this.pageSize,search:this.searchTerms.searchValue,type:1};e.sortName&&(n.sortName=e.sortName),e.sortOrder&&(n.sortOrder=e.sortOrder),this.$store.dispatch("GetConnect",{url:"order/list",data:n}).then(function(e){t.tableData=e.data.rows,t.total=e.data.total,t.tableLoading=!1}).catch(function(e){t.tableLoading=!1,t.$message.error(e.msg+",请刷新或联系管理员")})},confirmOrder:function(e,t){var n=this;this.$confirm(("cancel"===t?"取消":"refuse"===t?"拒绝退款":"refund"===t?"同意退款":"完成")+"该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a="order/ajax/"+e.id,r={action:t};n.$store.dispatch("GetConnect",{url:a,data:r}).then(function(){n.getData(),n.$message.success("操作成功")}).catch(function(e){n.$message.error("操作失败,请刷新或联系管理员")})})}}},s=(n("6HYU"),n("KHd+")),i=Object(s.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container bg-gray"},[n("el-card",{staticClass:"box-1"},[n("div",{staticClass:"header"},[n("div",[n("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入内容（商品名称）"},on:{change:e.getData},model:{value:e.searchTerms.searchValue,callback:function(t){e.$set(e.searchTerms,"searchValue",t)},expression:"searchTerms.searchValue"}}),e._v(" "),n("el-button",{staticClass:"do-btn",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.getData}},[e._v("搜索")])],1),e._v(" "),n("column-controller",{staticStyle:{float:"right"},attrs:{"check-items":e.th},on:{change:e.columnCheck}})],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,"max-height":e.tableMaxHeight,border:"","highlight-current-row":""},on:{"sort-change":e.handleSortChange}},[e.th[0].check?n("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"65","header-align":"center",align:"center",sortable:""}}):e._e(),e._v(" "),e.th[1].check?n("el-table-column",{attrs:{prop:"title",label:"商品名称","min-width":"250","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[2].check?n("el-table-column",{attrs:{prop:"order_sn",label:"订单号","min-width":"150","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[3].check?n("el-table-column",{attrs:{prop:"type",label:"商品类型","min-width":"110","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0===t.row.type?"小程序":1===t.row.type?"腾讯云":"定制开发")+"\n        ")]}}])}):e._e(),e._v(" "),e.th[4].check?n("el-table-column",{attrs:{prop:"uname",label:"购买用户","min-width":"130","header-align":"center",align:"center"}}):e._e(),e._v(" "),n("el-table-column",{attrs:{prop:"owner_uin",label:"腾讯云客户ID","min-width":"180","header-align":"center",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"业务员","min-width":"130","header-align":"center",align:"center"}}),e._v(" "),e.th[5].check?n("el-table-column",{attrs:{label:"单价数量","min-width":"140","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.price+"元/"+(0===t.row.long?"永久":1===t.row.long?"年":2===t.row.long?"月":"日")+"×"+t.row.amount)+"\n        ")]}}])}):e._e(),e._v(" "),e.th[6].check?n("el-table-column",{attrs:{prop:"total_price",label:"总价","min-width":"110","header-align":"center",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:"primary"}},[e._v(e._s(t.row.total_price))])]}}])}):e._e(),e._v(" "),e.th[7].check?n("el-table-column",{attrs:{prop:"pay_time",label:"交易时间","min-width":"160","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.pay_time?e.parseTime(t.row.pay_time,"{y}-{m}-{d} {h}:{i}:{s}"):"--")+"\n        ")]}}])}):e._e(),e._v(" "),e.th[8].check?n("el-table-column",{attrs:{prop:"submitter",label:"提交人","min-width":"130","header-align":"center",align:"center"}}):e._e(),e._v(" "),e.th[9].check?n("el-table-column",{attrs:{prop:"pay_status",label:"支付状态","min-width":"100","header-align":"center",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(-3===t.row.pay_status?"拒绝退款":-2===t.row.pay_status?"已退款":-1===t.row.pay_status?"申请退款":0===t.row.pay_status?"待付款":1===t.row.pay_status?"已付款":"已完成")+"\n        ")]}}])}):e._e(),e._v(" "),e.th[10].check?n("el-table-column",{attrs:{prop:"status",label:"订单状态","min-width":"100","header-align":"center",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(-2===t.row.status?"已取消":-1===t.row.status?"退款中":1===t.row.status?"已完成":0===t.row.status&&0===t.row.pay_status?"待付款":"待处理")+"\n        ")]}}])}):e._e(),e._v(" "),e.th[11].check?n("el-table-column",{attrs:{label:"操作","min-width":"160","header-align":"center",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status&&1==t.row.pay_status?n("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"mini",round:""},on:{click:function(n){e.confirmOrder(t.row,"confirm")}}},[e._v("完成订单")]):e._e(),e._v(" "),0==t.row.status&&0==t.row.pay_status?n("el-button",{attrs:{type:"danger",size:"mini",round:""},on:{click:function(n){e.confirmOrder(t.row,"cancel")}}},[e._v("取消订单")]):e._e(),e._v(" "),0==t.row.status&&-1==t.row.pay_status?n("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"mini",round:""},on:{click:function(n){e.confirmOrder(t.row,"refund")}}},[e._v("同意")]):e._e(),e._v(" "),0==t.row.status&&-1==t.row.pay_status?n("el-button",{attrs:{type:"danger",size:"mini",round:""},on:{click:function(n){e.confirmOrder(t.row,"refuse")}}},[e._v("拒绝")]):e._e()]}}])}):e._e()],1),e._v(" "),n("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)},[],!1,null,"84f1c3c2",null);i.options.__file="tencentOrders.vue";t.default=i.exports},EtFe:function(e,t,n){},Rgla:function(e,t,n){"use strict";var a=n("rUAo");n.n(a).a},YbJm:function(e,t,n){"use strict";var a={props:{checkItems:{type:Array,default:function(){return[]}}},data:function(){return{checkList:[]}},created:function(){for(var e in this.checkItems)this.checkItems[e].check&&this.checkList.push(this.checkItems[e].name)},methods:{change:function(e){this.$emit("change",e)}}},r=(n("Rgla"),n("KHd+")),c=Object(r.a)(a,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{staticClass:"controller",attrs:{"hide-on-click":!1}},[a("img",{attrs:{src:n("vtJi")}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("div",{staticClass:"title"},[e._v("列控制器")]),e._v(" "),a("el-checkbox-group",{attrs:{min:1},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.checkItems,function(t,n){return a("el-dropdown-item",{key:n,attrs:{divided:0==n}},[a("el-checkbox",{attrs:{label:t.name},on:{change:function(t){e.change(n)}}})],1)}))],1)],1)},[],!1,null,"39289c7c",null);c.options.__file="ColumnController.vue";var s=c.exports;n.d(t,"a",function(){return s})},rUAo:function(e,t,n){},vtJi:function(e,t){e.exports="data:image/png;base64,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"},"zAZ/":function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return u});var a=n("EJiy"),r=n.n(a);function c(e){var t=e.column,n=e.prop,a=e.order;this.order={column:t,prop:n,order:a},this.getData({sortName:n,sortOrder:a&&("ascending"===a?"asc":"desc")})}function s(e){this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function i(e){this.$store.getters.userInfo.pageSize=e,this.pageSize=e,this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function o(e){this.th[e].check=!this.th[e].check}function l(e,t){if(0===arguments.length)return null;var n=t||"{y}-{m}-{d} {h}:{i}:{s}",a=void 0;"object"===(void 0===e?"undefined":r()(e))?a=e:(10===(""+e).length&&(e=1e3*parseInt(e)),a=new Date(e));var c={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()};return n.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var n=c[t];return"a"===t?["日","一","二","三","四","五","六"][n]:(e.length>0&&n<10&&(n="0"+n),n||0)})}function u(e){var t=e.substr(0,10);t=t.replace(/-/g,"/");var n=new Date(t),a=new Date;a=a.valueOf();var r=Math.ceil((n-a)/864e5);return 0===r?"今天":r>0&&r<30?r+"天":r>=30&&r<360?Math.ceil(r/30)+"月":r>=360?Math.ceil(r/360)+"年":"逾期"+Math.ceil((a-n)/864e5)+"天"}}}]);