(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-71be"],{W2vo:function(e,t,o){},gyCM:function(e,t,o){"use strict";o.r(t);var s={data:function(){return{ImageUrl:"",dialogImageUrl:"",showImageDialog:!1,usersList:[],goodsList:[],form:{question:[{title:"",type:0,questionType:0,optionsType:0,options:[{value:"选项一"}]}]},formRules:{goods_name:[{required:!0,message:"请输入客户名",trigger:"change"}]}}},watch:{},created:function(){this.id=this.$route.query.id},methods:{toAddQuestion:function(){this.form.question.reverse(),this.form.question.push({title:"",type:0,questionType:0,optionsType:0,options:[{value:""}]}),this.form.question.reverse()},toAddQuestionOptions:function(e){this.form.question[e].options.push({value:""})},toDeleteQuestionOptions:function(e,t){this.form.question[e].options.splice(t,1)},toDeleteQuestion:function(e){this.form.question.splice(e,1)},getUsersList:function(){var e=this;this.$store.dispatch("GetConnect",{url:"user/all-list"}).then(function(t){e.usersList=t.data}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var o=t.form;o.sale_proof=o.pic_list;var s="achievement/edit/"+t.id;t.$store.dispatch("GetConnect",{url:s,data:o}).then(function(e){t.$message.success(e.msg),t.$router.back(-1)}).catch(function(e){t.$message.error(e.msg)})}else t.$message.error("提交失败,请检查必填项")})},resetForm:function(e){this.$refs[e].resetFields()}}},i=(o("yuGu"),o("KHd+")),n=Object(i.a)(s,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container bg-gray"},[o("el-card",{staticClass:"box-1"},[o("div",{attrs:{slot:"header"},slot:"header"},[o("span",[e._v("创建问卷")])]),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"160px"}},[o("el-form-item",{attrs:{label:"封面"}},[o("ws-upload-single-img",{attrs:{path:e.form.pic_list_url},model:{value:e.form.pic_list,callback:function(t){e.$set(e.form,"pic_list",t)},expression:"form['pic_list']"}}),e._v(" "),o("div",{staticClass:"remark"},[e._v("*注:为保证显示效果,请上传一张210px*210px的图片,支持.png, .jpg, .gif格式")])],1),e._v(" "),o("el-form-item",{attrs:{label:"问卷标题"}},[o("el-input",{model:{value:e.form.goods_money,callback:function(t){e.$set(e.form,"goods_money",t)},expression:"form.goods_money"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"问卷介绍"}},[o("el-input",{attrs:{rows:3,type:"textarea"},model:{value:e.form.goods_money,callback:function(t){e.$set(e.form,"goods_money",t)},expression:"form.goods_money"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"結束页"}},[o("ws-editor",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form['content']"}})],1),e._v(" "),o("el-form-item",[o("el-button",{staticClass:"bg-green btn",attrs:{type:"success"}},[e._v("发布")])],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.toAddQuestion}},[e._v("增加题目")]),e._v(" "),o("el-button",{attrs:{type:"info"},on:{click:e.toAddQuestion}},[e._v("导入题目")]),e._v(" "),o("el-button",{attrs:{type:"warning"},on:{click:e.toAddQuestion}},[e._v("导入模板下载")])],1),e._v(" "),e._l(e.form.question,function(t,s){return o("el-form-item",{key:s,staticClass:"question",attrs:{label:"题目"+(e.form.question.length-s)}},[o("el-input",{attrs:{rows:3,type:"textarea",placeholder:"请输入题目"},model:{value:e.form.question.title,callback:function(t){e.$set(e.form.question,"title",t)},expression:"form['question']['title']"}}),e._v(" "),o("div",[o("el-radio-group",{model:{value:t.type,callback:function(o){e.$set(t,"type",o)},expression:"item['type']"}},[o("el-radio",{attrs:{label:0}},[e._v("必填")]),e._v(" "),o("el-radio",{attrs:{label:1}},[e._v("选填")])],1)],1),e._v(" "),o("el-radio-group",{model:{value:t.questionType,callback:function(o){e.$set(t,"questionType",o)},expression:"item['questionType']"}},[o("el-radio",{attrs:{label:0}},[e._v("问答题")]),e._v(" "),o("el-radio",{attrs:{label:1}},[e._v("单选题")]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v("多选题")])],1),e._v(" "),0===t.questionType?o("div",[o("el-radio-group",{model:{value:t.optionsType,callback:function(o){e.$set(t,"optionsType",o)},expression:"item['optionsType']"}},[o("el-radio",{attrs:{label:0}},[e._v("单行文本")]),e._v(" "),o("el-radio",{attrs:{label:1}},[e._v("多行文本")])],1)],1):e._e(),e._v(" "),0!==t.questionType?o("div",[o("el-button",{staticClass:"bg-green",attrs:{type:"danger",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.toAddQuestionOptions(s)}}},[e._v("添加选项")]),e._v(" "),e._l(t.options,function(t,i){return o("el-input",{key:i,attrs:{placeholder:"请输入选项内容"},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"option['value']"}},[o("template",{slot:"append"},[o("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){e.toDeleteQuestionOptions(s,i)}}})],1)],2)})],2):e._e(),e._v(" "),o("div",[o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.toDeleteQuestion(s)}}},[e._v("删除题目")])],1)],1)})],2)],1)],1)},[],!1,null,"0fe18dd6",null);n.options.__file="create.vue";t.default=n.exports},yuGu:function(e,t,o){"use strict";var s=o("W2vo");o.n(s).a}}]);