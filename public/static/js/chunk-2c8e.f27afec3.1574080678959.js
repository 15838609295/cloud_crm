(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2c8e"],{Cm8K:function(e,t,r){"use strict";r.r(t);var i=r("P2sY"),a=r.n(i),s={data:function(){return{ImageUrl:"",title:"创建活动",dialogImageUrl:"",showImageDialog:!1,typeList:[],form:{date:[],stop_time:""},formRules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],explain:[{required:!0,message:"请输入活动简介",trigger:"blur"}],place:[{required:!0,message:"请输入活动地点",trigger:"blur"}],date:[{required:!0,message:"请选择活动时间",trigger:"blur"}],stop_time:[{required:!0,message:"请选择报名截止时间",trigger:"blur"}],host_party:[{required:!0,message:"请输入主办方",trigger:"blur"}],host_contact:[{required:!0,message:"请输入主办方电话",trigger:"blur"}],picture:[{required:!0,message:"请输入活动封面图",trigger:"blur"}],regulations:[{required:!0,message:"请输入活动规则",trigger:"blur"}],details:[{required:!0,message:"请输入活动详情",trigger:"blur"}],limit_number:[{required:!0,message:"请输入活动人数",trigger:"blur"}],activity_type_id:[{required:!0,message:"请选择活动类型id",trigger:"blur"}],audit_mode:[{required:!0,message:"请选择审核方式",trigger:"blur"}],notice:[{required:!0,message:"请选择通知方式",trigger:"blur"}]}}},watch:{},created:function(){this.getTypeList(),this.$route.query.id&&(this.form.id=this.$route.query.id)},methods:{getTypeList:function(){var e=this;this.$store.dispatch("GetConnect",{url:"activity/getTypeList"}).then(function(t){e.typeList=t.data,e.form.id&&e.loadData()}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},loadData:function(){var e=this,t="activity/getActivityInfo/"+this.form.id;this.$store.dispatch("GetConnect",{url:t}).then(function(t){a()(e.form,t.data),e.form.date=[t.data.start_time,t.data.end_time]}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=a()({},t.form);r.date&&0!==r.date.length&&(r.start_time=r.date[0],r.end_time=r.date[0]),t.$store.dispatch("GetConnect",{url:"activity/addActivity",data:r}).then(function(e){t.$message.success(e.msg),t.$router.back(-1)}).catch(function(e){t.$message.error(e.msg)})}else t.$message.error("提交失败,请检查必填项")})},resetForm:function(e){this.$refs[e].resetFields()}}},o=(r("DdmQ"),r("KHd+")),m=Object(o.a)(s,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container bg-gray"},[r("el-card",{staticClass:"box-1"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("活动详情")])]),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"160px"}},[r("el-form-item",{attrs:{label:"活动名称",prop:"name"}},[e._v(e._s(e.form.name))]),e._v(" "),r("el-form-item",{attrs:{label:"副标题",prop:"explain"}},[e._v(e._s(e.form.explain))]),e._v(" "),r("el-form-item",{attrs:{label:"活动地点",prop:"place"}},[e._v(e._s(e.form.place))]),e._v(" "),r("el-form-item",{attrs:{label:"活动时间",prop:"date"}},[e._v(e._s(e.form.start_time)+" 至 "+e._s(e.form.end_time))]),e._v(" "),r("el-form-item",{attrs:{label:"报名截止",prop:"stop_time"}},[e._v(e._s(e.form.stop_time))]),e._v(" "),r("el-form-item",{attrs:{label:"主办方",prop:"host_party"}},[e._v(e._s(e.form.host_party))]),e._v(" "),r("el-form-item",{attrs:{label:"联系方式",prop:"host_contact"}},[e._v(e._s(e.form.host_contact))]),e._v(" "),r("el-form-item",{attrs:{label:"活动图片",prop:"picture"}},[r("ws-show-img",{staticStyle:{width:"188px",height:"100px"},attrs:{src:e.ImageUrl+e.form.picture}})],1),e._v(" "),r("el-form-item",{attrs:{label:"活动须知",prop:"regulations"}},[e._v(e._s(e.form.regulations))]),e._v(" "),r("el-form-item",{attrs:{label:"活动详情"}},[r("div",{domProps:{innerHTML:e._s(e.form.details)}},[e._v(e._s(e.form.details))])]),e._v(" "),r("el-form-item",{attrs:{label:"人数限制",prop:"limit_number"}},[e._v(e._s(e.form.limit_number))]),e._v(" "),r("el-form-item",{attrs:{label:"活动类型",prop:"activity_type_id"}},[e._v(e._s(e.form.activity_type_name))]),e._v(" "),r("el-form-item",{attrs:{label:"审核方式",prop:"audit_mode"}},[0===e.form.audit_mode?r("div",[e._v("手动通过")]):e._e(),e._v(" "),1===e.form.audit_mode?r("div",[e._v("自动审核")]):e._e()]),e._v(" "),r("el-form-item",{attrs:{label:"通知方式",prop:"notice"}},[1===e.form.notice?r("div",[e._v("微信")]):e._e(),e._v(" "),2===e.form.notice?r("div",[e._v("短信")]):e._e(),e._v(" "),3===e.form.notice?r("div",[e._v("微信&短信")]):e._e()])],1)],1)],1)},[],!1,null,"e8ad1a5a",null);m.options.__file="info.vue";t.default=m.exports},DdmQ:function(e,t,r){"use strict";var i=r("rJKs");r.n(i).a},rJKs:function(e,t,r){}}]);