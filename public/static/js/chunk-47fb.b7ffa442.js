(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-47fb"],{"3ZSy":function(e,t,a){"use strict";var r=a("fH4Y");a.n(r).a},"7Qib":function(e,t,a){"use strict";a.d(t,"d",function(){return c}),a.d(t,"a",function(){return d}),a.d(t,"c",function(){return u});var r=a("14Xm"),n=a.n(r),i=a("D3Ub"),s=a.n(i),o=(a("4d7F"),a("EJiy")),l=a.n(o);function c(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",r=void 0;"object"===(void 0===e?"undefined":l()(e))?r=e:(10===(""+e).length&&(e=1e3*parseInt(e)),r=new Date(e));var n={y:r.getFullYear(),m:r.getMonth()+1,d:r.getDate(),h:r.getHours(),i:r.getMinutes(),s:r.getSeconds(),a:r.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=n[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function d(e,t,a){var r=void 0,n=void 0,i=void 0,s=void 0,o=void 0,l=function l(){var c=+new Date-s;c<t&&c>0?r=setTimeout(l,t-c):(r=null,a||(o=e.apply(i,n),r||(i=n=null)))};return function(){for(var n=arguments.length,c=Array(n),d=0;d<n;d++)c[d]=arguments[d];i=this,s=+new Date;var u=a&&!r;return r||(r=setTimeout(l,t)),u&&(o=e.apply(i,c),i=c=null),o}}function u(e){var t=void 0,a=e.split("-"),r=parseInt(a[0]),n=parseInt(a[1]),i=parseInt(a[2]),s=new Date,o=s.getFullYear(),l=s.getMonth()+1,c=s.getDate();if(o===r)t=0;else{var d=o-r;if(d>0)if(l===n)t=c-i<0?d-1:d;else t=l-n<0?d-1:d;else t=-1}return t}t.b=function(){var e=s()(n.a.mark(function e(t,a,r){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),(i=new Image).src=t,e.next=5,i.onload;case 5:if(console.log(i.width,i.height),a/r!=i.width/i.height){e.next=8;break}return e.abrupt("return",i.width+"px * "+i.height+"px");case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t,a,r){return e.apply(this,arguments)}}()},"7f3+":function(e,t,a){"use strict";var r=a("MT78"),n=a.n(r),i=a("7Qib");a("gX0l");var s={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Array,default:function(){return[]},required:!0}},data:function(){return{chart:null,predefineColors:["#19C5F4","#ffd700","#18bc9c","#90ee90","#00ced1","#1e90ff","#ff5c1d","#ff1651","#ff65f3","#1e90ff"]}},watch:{chartData:function(e){this.initChart(),this.chart.resize()}},mounted:function(){var e=this;this.autoResize&&(this.__resizeHandler=Object(i.a)(function(){e.chart&&e.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)),document.getElementsByClassName("sidebar-container")[0].addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),document.getElementsByClassName("sidebar-container")[0].removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)},methods:{sidebarResizeHandler:function(e){"width"===e.propertyName&&this.__resizeHandler()},getRandomColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef"[parseInt(16*Math.random())];return e},setOptions:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={data:[]},a=[],r=0;r<e.length;r++){var n=this.predefineColors[r];t.data.push(e[r].label),a.push({name:e[r].label,smooth:!0,type:"line",itemStyle:{normal:{color:n,lineStyle:{color:n,width:2},areaStyle:{color:n+"33"}}},data:e[r].dataList,animationDuration:2800,animationEasing:"quadraticOut"})}this.chart.setOption({xAxis:{data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:t,series:a})},initChart:function(){this.chart=n.a.init(this.$el,"macarons"),this.setOptions(this.chartData)}}},o=a("KHd+"),l=Object(o.a)(s,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);l.options.__file="LineChart.vue";t.a=l.exports},fH4Y:function(e,t,a){},rxWX:function(e,t,a){"use strict";a.r(t);var r=a("7f3+"),n=a("zAZ/"),i={components:{LineChart:r.a},data:function(){return{loading:!1,user_id:"",start_time:null,end_time:null,info:{customer_list:[],customer_number:[],order_from:[]},searchDate:[],tableMaxHeight:document.documentElement.clientHeight-380,tableLoading:!1,multipleSelection:[],currentPage:1,pageSize:this.$store.getters.userInfo.pageSize,pageSizes:[10,20,50,100,1e3],total:0,tableData:[],filter:{type:[{text:"已完成",value:"已完成"},{text:"待审核",value:"待审核"}]}}},watch:{},created:function(){this.userName=this.$route.query.name,this.user_id=this.$route.query.id,this.start_time=this.$route.query.startTime||null,this.end_time=this.$route.query.endTime||null,this.getData(),this.getPersonalityData()},methods:{handleCurrentChange:n.c,handleSizeChange:n.d,handleSortChange:n.e,columnCheck:n.a,parseTime:n.f,getData:function(e){var t=this;this.tableLoading=!0,e||(e={});var a={page_no:this.currentPage,page_size:this.pageSize,user_id:this.user_id};this.searchDate&&0!==this.searchDate.length&&(a.start_time=this.searchDate[0]+" 00:00:00",a.end_time=this.searchDate[1]+" 23:59:59"),e.sortName&&(a.sortName=e.sortName),e.sortOrder&&(a.sortOrder=e.sortOrder),this.$store.dispatch("GetConnect",{url:"achievement/getList",data:a}).then(function(e){t.tableData=e.data.rows,t.total_money=e.data.total_money,t.total=e.data.total,t.tableLoading=!1}).catch(function(e){t.tableLoading=!1,t.$message.error(e.msg+",请刷新或联系管理员")})},getPersonalityData:function(){var e=this;this.loading=!0;var t={id:this.user_id};this.$store.dispatch("GetConnect",{url:"platform/user",data:t}).then(function(t){e.loading=!1,e.info=t.data}).catch(function(t){e.loading=!1,e.$message.error(t.msg+",请刷新或联系管理员")})},filterTag:function(e,t){return t.type===e},orderClick:function(e){this.$router.push({path:"/orders/achievement/info",query:{id:e.id}})}}},s=(a("3ZSy"),a("KHd+")),o=Object(s.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-row",[a("el-card",{staticClass:"box-1"},[a("el-row",[a("h4",[e._v(e._s(e.userName))])]),e._v(" "),a("el-row",{staticClass:"header"},[a("div",{staticClass:"text-center"},[a("el-popover",{attrs:{placement:"top-start",title:"成单率说明：(不包含当天数据)",width:"400",trigger:"hover"}},[a("p",[e._v("本月成单率: 本月激活客户数 / 本月指派客户数")]),e._v(" "),a("p",[e._v("总成单率: 总激活客户数 / 总客户数")]),e._v(" "),a("label",{attrs:{slot:"reference"},slot:"reference"},[e._v("运营概况  "),a("i",{staticClass:"el-icon-info"})])])],1)]),e._v(" "),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:4}},[a("div",[e._v("今日客户量")]),e._v(" "),a("div",[e._v(e._s(e.info.today_customer||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("本月客户量")]),e._v(" "),a("div",[e._v(e._s(e.info.month_customer||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("本月业绩")]),e._v(" "),a("div",[e._v(e._s(e.info.month_bonus_number||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("本月成单量")]),e._v(" "),a("div",[e._v(e._s(e.info.month_member||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("本月成单率")]),e._v(" "),a("div",[e._v(e._s(e.info.month_conversion||0)+"%")])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("本月丢单率")]),e._v(" "),a("div",[e._v(e._s(e.info.month_no_conversion||0)+"%")])])],1),e._v(" "),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:4}},[a("div",[e._v("昨日客户量")]),e._v(" "),a("div",[e._v(e._s(e.info.yesterday_customer||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("上月客户量")]),e._v(" "),a("div",[e._v(e._s(e.info.last_month_customer||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("上月业绩")]),e._v(" "),a("div",[e._v(e._s(e.info.last_month_bonus_number||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("上月成单量")]),e._v(" "),a("div",[e._v(e._s(e.info.last_month_member||0))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("总成单率")]),e._v(" "),a("div",[e._v(e._s(e.info.conversion||0)+"%")])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[e._v("总丢单率")]),e._v(" "),a("div",[e._v(e._s(e.info.no_conversion||0)+"%")])])],1),e._v(" "),a("el-table",{attrs:{data:e.info.source,"max-height":"250"}},[a("el-table-column",{attrs:{label:"不同来源客户概况","header-align":"center",align:"center"}},[a("el-table-column",{attrs:{label:"来源",prop:"source_name","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"本日数量",prop:"today_customer","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"昨日数量",prop:"yesterday_customer","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"本月数量",prop:"month_customer","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"上月数量",prop:"last_month_customer","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"本月成单率",prop:"month_conversion","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.month_conversion||0)+"%\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"本月丢单率",prop:"month_no_conversion","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.month_no_conversion||0)+"%\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"总成单率",prop:"conversion","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.conversion||0)+"%\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"总丢单率",prop:"no_conversion","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.no_conversion||0)+"%\n            ")]}}])})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"lineChartBox"},[a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("el-card",[a("div",{staticClass:"text-center",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("客户量 - 曲线图")])]),e._v(" "),a("line-chart",{attrs:{"chart-data":e.info.customer_list}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("el-card",[a("div",{staticClass:"text-center",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("业绩 - 曲线图")])]),e._v(" "),a("line-chart",{attrs:{"chart-data":e.info.customer_number}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("el-card",[a("div",{staticClass:"text-center",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("成单率/丢单率 - 曲线图（%）")])]),e._v(" "),a("line-chart",{attrs:{"chart-data":e.info.order_from}})],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"box-2"},[a("el-col",{attrs:{span:24}},[a("el-card",[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[a("label",{staticStyle:{"margin-right":"20px"}},[e._v("业绩订单")]),e._v(" "),a("el-date-picker",{staticClass:"picker",attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.getData},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,"max-height":e.tableMaxHeight,border:"","row-class-name":"cursor-p"},on:{"sort-change":e.handleSortChange,"cell-click":e.orderClick}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"65","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"member_name",label:"客户名称","min-width":"120","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"member_phone",label:"手机号码","min-width":"120","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称","min-width":"120","header-align":"center",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_money",label:"商品金额","min-width":"110","header-align":"center",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"buy_time",label:"购买时间","min-width":"120","header-align":"center",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.parseTime(t.row.buy_time,"{y}-{m}-{d}"))+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"order_bonus",label:"订单提成","min-width":"110","header-align":"center",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.order_bonus))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注","min-width":"360","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_status",label:"订单状态","min-width":"100","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(0===t.row.status?"审核中":1===t.row.status?"审核成功":2===t.row.status?"已拒绝":"已退款")+"\n            ")]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)],1)],1)},[],!1,null,"4a3a70e9",null);o.options.__file="index.vue";t.default=o.exports},"zAZ/":function(e,t,a){"use strict";a.d(t,"e",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"f",function(){return c}),a.d(t,"b",function(){return d});var r=a("EJiy"),n=a.n(r);function i(e){var t=e.column,a=e.prop,r=e.order;this.order={column:t,prop:a,order:r},this.getData({sortName:a,sortOrder:r&&("ascending"===r?"asc":"desc")})}function s(e){this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function o(e){this.$store.getters.userInfo.pageSize=e,this.pageSize=e,this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function l(e){this.th[e].check=!this.th[e].check}function c(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",r=void 0;"object"===(void 0===e?"undefined":n()(e))?r=e:(10===(""+e).length&&(e=1e3*parseInt(e)),r=new Date(e));var i={y:r.getFullYear(),m:r.getMonth()+1,d:r.getDate(),h:r.getHours(),i:r.getMinutes(),s:r.getSeconds(),a:r.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=i[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function d(e){var t=e.substr(0,10);t=t.replace(/-/g,"/");var a=new Date(t),r=new Date;r=r.valueOf();var n=Math.ceil((a-r)/864e5);return 0===n?"今天":n>0&&n<30?n+"天":n>=30&&n<360?Math.ceil(n/30)+"月":n>=360?Math.ceil(n/360)+"年":"逾期"+Math.ceil((r-a)/864e5)+"天"}}}]);