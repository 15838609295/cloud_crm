(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5a0f"],{"0kY2":function(e,t,r){"use strict";r.r(t);var a=r("P2sY"),o=r.n(a),l={data:function(){return{title:"添加会员",ImageUrl:"",typeList:[],provinceList:[],cityList:[],areaList:[],form:{id:"",name:"",sex:"男",mobile:"",email:"",wechat:"",avatar:"",status:2,birthday:"",native_place:"",nation:"",political_outlook:"",education:"",id_number:"",school:"",major:"",recommender:"",enterprise_name:"",position:"",nature:"",new_high:"",industry:"",zip_code:"",patent:"",office_phone:"",website:"",fax:"",registered_capital:"",staff_number:"",turnover:"",tax_amount:"",job_brief:"",company_profile:"",industry_type_id:"",provinceCodeIdx:"",province:"",cityCodeIdx:"",city:"",area:"",address:""},formRules:{name:[{required:!0,message:"请输入姓名",trigger:"change"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"change"}],email:[{required:!0,message:"请输入邮箱",trigger:"change"}],wechat:[{required:!0,message:"请输入微信号或QQ号",trigger:"change"}],avatar:[{required:!0,message:"请上传头像",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],industry_type_id:[{required:!0,message:"请选择状态",trigger:"change"}],birthday:[{required:!0,message:"请选择出生年月日",trigger:"change"}],native_place:[{required:!0,message:"请输入籍贯",trigger:"change"}],nation:[{required:!0,message:"请输入民族",trigger:"change"}],political_outlook:[{required:!0,message:"请选择政治面貌",trigger:"change"}],education:[{required:!0,message:"请选择学历",trigger:"change"}],id_number:[{required:!0,message:"请输入身份证号码",trigger:"change"}],school:[{required:!0,message:"请输入学校",trigger:"change"}],major:[{required:!0,message:"请输入专业",trigger:"change"}],recommender:[{required:!0,message:"请输入入会推荐人",trigger:"change"}],enterprise_name:[{required:!0,message:"请输入企业名称",trigger:"change"}],position:[{required:!0,message:"请输入工作职务",trigger:"change"}],nature:[{required:!0,message:"请选择企业性质",trigger:"change"}],new_high:[{required:!0,message:"请选择是否高新企业",trigger:"change"}],industry:[{required:!0,message:"请输入所属行业",trigger:"change"}],office_phone:[{required:!0,message:"请输入办公电话",trigger:"change"}],registered_capital:[{required:!0,message:"请输入企业注册资金",trigger:"change"}],staff_number:[{required:!0,message:"请输入员工人数",trigger:"change"}],turnover:[{required:!0,message:"请输入上一年度营业额",trigger:"change"}],tax_amount:[{required:!0,message:"请输入上一年度纳税额",trigger:"change"}],job_brief:[{required:!0,message:"请输入工作简介",trigger:"change"}],company_profile:[{required:!0,message:"请输入企业简介",trigger:"change"}]}}},watch:{},created:function(){this.getTypeList(),this.$route.query.id&&(this.id=this.$route.query.id,this.title="编辑会员")},methods:{getMemberInfo:function(e){var t=this,r="vip/info/"+e;this.$store.dispatch("GetConnect",{url:r}).then(function(e){for(var r=e.data||{},a=0;a<t.provinceList.length;a++)if(t.provinceList[a].code===parseInt(r.province)){r.provinceCodeIdx=a,t.cityList=t.provinceList[a].children;for(var l=0;l<t.provinceList[a].children.length;l++)t.provinceList[a].children[l].code===parseInt(r.city)&&(r.cityCodeIdx=l,t.areaList=t.provinceList[a].children[l].children||[])}o()(t.form,r)}).catch(function(e){t.$message.error(e.msg+",请刷新或联系管理员")})},getTypeList:function(){var e=this;this.$store.dispatch("GetConnect",{url:"vip/typeList"}).then(function(t){e.typeList=t.data,e.loadProvinceList()}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},loadProvinceList:function(){var e=this;this.$store.dispatch("GetConnect",{url:"vip/regionList"}).then(function(t){e.provinceList=t.data,e.id&&e.getMemberInfo(e.id)}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},provinceSelectChange:function(e){this.cityList=this.provinceList[e].children,this.form.province=this.provinceList[e].code,this.form.cityCodeIdx="",this.form.city="",this.form.area=""},citySelectChange:function(e){this.areaList=this.cityList[e].children||[],this.form.city=this.cityList[e].code,this.form.area=""},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=t.form,a=t.id?"vip/updateVip/"+t.id:"vip/addVip";t.$store.dispatch("GetConnect",{url:a,data:r}).then(function(e){t.$message.success(e.msg),t.$router.back(-1)}).catch(function(e){t.$message.error(e.msg)})}else t.$message.error("提交失败,请检查必填项")})},resetForm:function(e){this.$refs[e].resetFields()}}},i=(r("greQ"),r("KHd+")),s=Object(i.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container bg-gray"},[r("el-card",{staticClass:"box-1"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v(e._s(e.title))])]),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"170px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{attrs:{placeholder:"请选择所属等级"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[r("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),r("el-option",{attrs:{label:"女",value:"女"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"出生年月日"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"籍贯",prop:"native_place"}},[r("el-input",{model:{value:e.form.native_place,callback:function(t){e.$set(e.form,"native_place",t)},expression:"form.native_place"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"民族",prop:"nation"}},[r("el-input",{model:{value:e.form.nation,callback:function(t){e.$set(e.form,"nation",t)},expression:"form.nation"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"政治面貌"}},[r("el-select",{attrs:{placeholder:"请选择所属等级"},model:{value:e.form.political_outlook,callback:function(t){e.$set(e.form,"political_outlook",t)},expression:"form.political_outlook"}},[r("el-option",{attrs:{label:"群众",value:"群众"}}),e._v(" "),r("el-option",{attrs:{label:"共青团员",value:"共青团员"}}),e._v(" "),r("el-option",{attrs:{label:"中共党员",value:"中共党员"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"学历"}},[r("el-select",{attrs:{placeholder:"请选择所属等级"},model:{value:e.form.education,callback:function(t){e.$set(e.form,"education",t)},expression:"form.education"}},[r("el-option",{attrs:{label:"小学",value:"小学"}}),e._v(" "),r("el-option",{attrs:{label:"初中",value:"初中"}}),e._v(" "),r("el-option",{attrs:{label:"高中",value:"高中"}}),e._v(" "),r("el-option",{attrs:{label:"大专",value:"大专"}}),e._v(" "),r("el-option",{attrs:{label:"本科",value:"本科"}}),e._v(" "),r("el-option",{attrs:{label:"博士",value:"博士"}}),e._v(" "),r("el-option",{attrs:{label:"硕士",value:"硕士"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"身份证号码",prop:"id_number"}},[r("el-input",{model:{value:e.form.id_number,callback:function(t){e.$set(e.form,"id_number",t)},expression:"form.id_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"毕业院校"}},[r("el-input",{model:{value:e.form.school,callback:function(t){e.$set(e.form,"school",t)},expression:"form.school"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"专业"}},[r("el-input",{model:{value:e.form.major,callback:function(t){e.$set(e.form,"major",t)},expression:"form.major"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入会推荐人",prop:"recommender"}},[r("el-input",{model:{value:e.form.recommender,callback:function(t){e.$set(e.form,"recommender",t)},expression:"form.recommender"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[r("ws-upload-single-img",{attrs:{path:e.form.avatar?e.form.avatar.indexOf("https://")<0?e.ImageUrl+e.form.avatar:e.form.avatar:""},model:{value:e.form.avatar,callback:function(t){e.$set(e.form,"avatar",t)},expression:"form['avatar']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"企业名称",prop:"enterprise_name"}},[r("el-input",{model:{value:e.form.enterprise_name,callback:function(t){e.$set(e.form,"enterprise_name",t)},expression:"form.enterprise_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"工作职务",prop:"position"}},[r("el-input",{model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"企业性质",prop:"nature"}},[r("el-select",{attrs:{placeholder:"请选择企业性质"},model:{value:e.form.nature,callback:function(t){e.$set(e.form,"nature",t)},expression:"form.nature"}},[r("el-option",{attrs:{label:"国有企业",value:"国有企业"}}),e._v(" "),r("el-option",{attrs:{label:"集体企业",value:"集体企业"}}),e._v(" "),r("el-option",{attrs:{label:"私营企业",value:"私营企业"}}),e._v(" "),r("el-option",{attrs:{label:"个体工商户",value:"个体工商户"}}),e._v(" "),r("el-option",{attrs:{label:"合伙企业",value:"合伙企业"}}),e._v(" "),r("el-option",{attrs:{label:"联营企业",value:"联营企业"}}),e._v(" "),r("el-option",{attrs:{label:"股份合作制企业",value:"股份合作制企业"}}),e._v(" "),r("el-option",{attrs:{label:"有限责任公司",value:"有限责任公司"}}),e._v(" "),r("el-option",{attrs:{label:"股份有限公司",value:"股份有限公司"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"企业地址"}},[r("el-select",{attrs:{placeholder:"请选择省份"},on:{change:e.provinceSelectChange},model:{value:e.form.provinceCodeIdx,callback:function(t){e.$set(e.form,"provinceCodeIdx",t)},expression:"form['provinceCodeIdx']"}},e._l(e.provinceList,function(e,t){return r("el-option",{key:e.code,attrs:{label:e.name,value:t}})})),e._v(" "),r("el-select",{attrs:{placeholder:"请选择市"},on:{change:e.citySelectChange},model:{value:e.form.cityCodeIdx,callback:function(t){e.$set(e.form,"cityCodeIdx",t)},expression:"form['cityCodeIdx']"}},e._l(e.cityList,function(e,t){return r("el-option",{key:e.code,attrs:{label:e.name,value:t}})})),e._v(" "),0!=e.areaList.length?r("el-select",{attrs:{placeholder:"请选择区"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form['area']"}},e._l(e.areaList,function(e){return r("el-option",{key:e.code,attrs:{label:e.name,value:e.code+""}})})):e._e(),e._v(" "),r("el-input",{attrs:{rows:2,type:"textarea",placeholder:"详细地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form['address']"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否高新科技企业"}},[r("el-select",{attrs:{placeholder:"请选择所属等级"},model:{value:e.form.new_high,callback:function(t){e.$set(e.form,"new_high",t)},expression:"form.new_high"}},[r("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),r("el-option",{attrs:{label:"否",value:"否"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"所属行业",prop:"industry"}},[r("el-input",{model:{value:e.form.industry,callback:function(t){e.$set(e.form,"industry",t)},expression:"form.industry"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"主营业务",prop:"industry"}},[r("el-input",{model:{value:e.form.main_business,callback:function(t){e.$set(e.form,"main_business",t)},expression:"form.main_business"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮编"}},[r("el-input",{model:{value:e.form.zip_code,callback:function(t){e.$set(e.form,"zip_code",t)},expression:"form.zip_code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"企业专利"}},[r("el-input",{model:{value:e.form.patent,callback:function(t){e.$set(e.form,"patent",t)},expression:"form.patent"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[r("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"QQ/微信号"}},[r("el-input",{model:{value:e.form.wechat,callback:function(t){e.$set(e.form,"wechat",t)},expression:"form.wechat"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"E-mail",prop:"email"}},[r("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"办公电话",prop:"office_phone"}},[r("el-input",{model:{value:e.form.office_phone,callback:function(t){e.$set(e.form,"office_phone",t)},expression:"form.office_phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"企业网址"}},[r("el-input",{model:{value:e.form.website,callback:function(t){e.$set(e.form,"website",t)},expression:"form.website"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"传真"}},[r("el-input",{model:{value:e.form.fax,callback:function(t){e.$set(e.form,"fax",t)},expression:"form.fax"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"企业注册资金",prop:"registered_capital"}},[r("el-input",{model:{value:e.form.registered_capital,callback:function(t){e.$set(e.form,"registered_capital",t)},expression:"form.registered_capital"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"员工人数",prop:"staff_number"}},[r("el-input",{model:{value:e.form.staff_number,callback:function(t){e.$set(e.form,"staff_number",t)},expression:"form.staff_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"会员类型",prop:"industry_type_id"}},[r("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.form.industry_type_id,callback:function(t){e.$set(e.form,"industry_type_id",t)},expression:"form.industry_type_id"}},e._l(e.typeList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id+""}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"上一年度主营业额",prop:"turnover"}},[r("el-input",{model:{value:e.form.turnover,callback:function(t){e.$set(e.form,"turnover",t)},expression:"form.turnover"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上一年度主纳税额",prop:"tax_amount"}},[r("el-input",{model:{value:e.form.tax_amount,callback:function(t){e.$set(e.form,"tax_amount",t)},expression:"form.tax_amount"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"工作简介"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.job_brief,callback:function(t){e.$set(e.form,"job_brief",t)},expression:"form.job_brief"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"企业简介及发展情况",prop:"company_profile"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.company_profile,callback:function(t){e.$set(e.form,"company_profile",t)},expression:"form.company_profile"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-select",{attrs:{placeholder:"请选择所属等级"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[r("el-option",{attrs:{value:2,label:"正常"}}),e._v(" "),r("el-option",{attrs:{value:1,label:"待审核"}}),e._v(" "),r("el-option",{attrs:{value:3,label:"注销"}})],1)],1),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v(e._s("编辑会员"===e.title?"保存":"立即创建"))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$router.back(-1)}}},[e._v("取消")])],1)],1)],1)],1)},[],!1,null,"d75273e4",null);s.options.__file="create.vue";t.default=s.exports},BozM:function(e,t,r){},greQ:function(e,t,r){"use strict";var a=r("BozM");r.n(a).a}}]);