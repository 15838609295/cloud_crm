(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2e65"],{Rs2H:function(t,e,i){},XYOn:function(t,e,i){"use strict";i.r(e);var a=i("zAZ/"),n={data:function(){return{downloadLoading:!1,tableMaxHeight:document.documentElement.clientHeight-380,tableLoading:!1,tableData:[],dialogVisible:!1,form:{title:"",name:""},rules:{name:[{required:!0,message:"请输入产品类型名称",trigger:"change"}]}}},created:function(){this.getData()},methods:{handleCurrentChange:a.c,handleSizeChange:a.d,handleSortChange:a.e,parseTime:a.f,getData:function(t){var e=this;this.tableLoading=!0,t||(t={});this.$store.dispatch("GetConnect",{url:"activity/getTypeList"}).then(function(t){e.tableData=t.data,e.tableLoading=!1}).catch(function(t){e.tableLoading=!1,e.$message.error(t.msg+",请刷新或联系管理员")})},toAdd:function(){this.form={},this.dialogVisible=!0,this.form.title="添加类型"},toEdit:function(t){this.form={},this.dialogVisible=!0,this.form={id:t.id,name:t.name},this.form.title="编辑类型"},submitDialog:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var i=e.form;i.type=i.id?2:1,e.$store.dispatch("GetConnect",{url:"/activity/TypeAjax",data:i}).then(function(t){e.dialogVisible=!1,e.$message.success(t.msg),e.getData()}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员!")})}else e.$message.error("提交失败,请检查必填项")})},resetDialog:function(t){this.$refs[t].resetFields()},toDelete:function(t){var e=this;this.$confirm("此操作将删除该类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i={id:t.id,type:3};e.$store.dispatch("GetConnect",{url:"/activity/TypeAjax",data:i}).then(function(t){e.$message.success(t.msg),e.getData()}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员!")})})}}},r=(i("w3GH"),i("KHd+")),o=Object(r.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container bg-gray"},[i("el-card",{staticClass:"box-1"},[i("div",{staticClass:"header"},[i("div"),t._v(" "),i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.toAdd}},[t._v("添加类型")])],1)]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],attrs:{data:t.tableData,"max-height":t.tableMaxHeight,border:"","highlight-current-row":""},on:{"sort-change":t.handleSortChange}},[i("el-table-column",{attrs:{prop:"id",label:"ID",width:"120","header-align":"center",align:"center",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"类型名称","min-width":"160"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200","header-align":"center",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"bg-green",attrs:{type:"success",size:"small",icon:"el-icon-edit",circle:""},on:{click:function(i){t.toEdit(e.row)}}}),t._v(" "),i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",circle:""},on:{click:function(i){t.toDelete(e.row)}}})]}}])})],1)],1),t._v(" "),i("el-dialog",{staticClass:"dialog",attrs:{visible:t.dialogVisible,title:t.form.title,width:"500px",center:""},on:{"update:visible":function(e){t.dialogVisible=e},close:function(e){t.resetDialog("form")}}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{attrs:{autofocus:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitDialog("form")}}},[t._v("确 定")])],1)],1)],1)},[],!1,null,"0f6ea98c",null);o.options.__file="type.vue";e.default=o.exports},w3GH:function(t,e,i){"use strict";var a=i("Rs2H");i.n(a).a},"zAZ/":function(t,e,i){"use strict";i.d(e,"e",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s}),i.d(e,"a",function(){return l}),i.d(e,"f",function(){return c}),i.d(e,"b",function(){return d});var a=i("EJiy"),n=i.n(a);function r(t){var e=t.column,i=t.prop,a=t.order;this.order={column:e,prop:i,order:a},this.getData({sortName:i,sortOrder:a&&("ascending"===a?"asc":"desc")})}function o(t){this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function s(t){this.$store.getters.userInfo.pageSize=t,this.pageSize=t,this.getData(this.order?{sortName:this.order.prop,sortOrder:this.order.order&&("ascending"===this.order.order?"asc":"desc")}:{})}function l(t){this.th[t].check=!this.th[t].check}function c(t,e){if(0===arguments.length)return null;var i=e||"{y}-{m}-{d} {h}:{i}:{s}",a=void 0;"object"===(void 0===t?"undefined":n()(t))?a=t:(10===(""+t).length&&(t=1e3*parseInt(t)),a=new Date(t));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()};return i.replace(/{(y|m|d|h|i|s|a)+}/g,function(t,e){var i=r[e];return"a"===e?["日","一","二","三","四","五","六"][i]:(t.length>0&&i<10&&(i="0"+i),i||0)})}function d(t){var e=t.substr(0,10);e=e.replace(/-/g,"/");var i=new Date(e),a=new Date;a=a.valueOf();var n=Math.ceil((i-a)/864e5);return 0===n?"今天":n>0&&n<30?n+"天":n>=30&&n<360?Math.ceil(n/30)+"月":n>=360?Math.ceil(n/360)+"年":"逾期"+Math.ceil((a-i)/864e5)+"天"}}}]);