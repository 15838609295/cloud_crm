(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fe8a"],{dDLZ:function(t,e,o){"use strict";o.r(e);var r={data:function(){return{ImageUrl:"",productTypeList:[],form:{goods_name:"",goods_pic:"",pic_list:"",pic_list_url:[],goods_type:"",goods_version:[],price_type:"",status:"",goods_top:"",body:""},formRules:{goods_name:[{required:!0,message:"请输入名称",trigger:"blur"}],goods_type:[{required:!0,message:"请选择类型",trigger:"blur"}]}}},watch:{},mounted:function(){},created:function(){this.title=this.$route.query.title,this.getProductTypeList()},methods:{getProductTypeList:function(){var t=this;this.$store.dispatch("GetConnect",{url:"goods/goodsTypeList"}).then(function(e){t.productTypeList=e.data,t.$route.query.id&&(t.id=t.$route.query.id,t.getInfo(t.$route.query.id))}).catch(function(e){t.$message.error(e.msg+",请刷新或联系管理员")})},getInfo:function(t){var e=this,o="goods/detail/"+t;this.$store.dispatch("GetConnect",{url:o}).then(function(t){var o={id:t.data.id,goods_name:t.data.goods_name,goods_pic:t.data.goods_pic,pic_list:t.data.pic_list?t.data.pic_list:"",pic_list_url:[],goods_type:t.data.goods_type,goods_type_txt:t.data.goods_type_txt,goods_version:t.data.goods_version?JSON.parse(t.data.goods_version):[],price_type:t.data.price_type,status:t.data.status,goods_top:t.data.goods_top,body:t.data.body.replace(/\<img/gi,'<img style="max-width:100%;height:auto" ')};e.form=o;var r=o.pic_list.split(",");for(var a in r)e.form.pic_list_url.push({id:r[a],url:e.ImageUrl+r[a]});e.expandAll()}).catch(function(t){e.$message.error(t.msg+",请刷新或联系管理员")})},toModify:function(){this.isShow=!1;var t={title:"编辑产品",id:this.form.id};this.$router.push({path:"/product/productList/modify",query:t})},expandAll:function(){var t=document.getElementsByClassName("el-table__expand-icon");this.$nextTick(function(){for(var e=0;e<t.length;e++)t[e].click()})}}},a=(o("ea7z"),o("KHd+")),s=Object(a.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",{staticClass:"box-1"},[o("div",{attrs:{slot:"header"},slot:"header"},[o("span",[t._v("产品详情")])]),t._v(" "),o("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules,"label-width":"160px"}},[o("el-form-item",{attrs:{label:"名称："}},[t._v(t._s(t.form.goods_name))]),t._v(" "),o("el-form-item",{attrs:{label:"略缩图："}},[o("ws-show-img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:t.form.goods_pic?t.ImageUrl+t.form.goods_pic:""}})],1),t._v(" "),o("el-form-item",{attrs:{label:"图片列表",prop:"title"}},[o("ws-upload-multiple-img",{attrs:{disable:!0,path:t.form.pic_list_url,limit:3},model:{value:t.form.pic_list,callback:function(e){t.$set(t.form,"pic_list",e)},expression:"form['pic_list']"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"类型：",prop:"goods_type"}},[t._v("\n        "+t._s(t.form.goods_type_txt)+"\n      ")]),t._v(" "),o("el-form-item",{attrs:{label:"产品规格："}},[o("el-table",{staticStyle:{border:"1px solid #ddd"},attrs:{data:t.form.goods_version,"row-class-name":"bg-gray"}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-table",{attrs:{data:e.row.subitem}},[o("el-table-column",{attrs:{label:"子规格","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tag",{attrs:{type:"info"}},[t._v(t._s(e.row.goods_version))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"库存",prop:"count","header-align":"center",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{label:"原价",prop:"originalPrice","header-align":"center",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{label:"成本价",prop:"costPrice","header-align":"center",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{label:"售价",prop:"salePrice","header-align":"center",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{label:"货号",prop:"goodsNum","header-align":"center",align:"center"}})],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"规格名称","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tag",[t._v(t._s(e.row.goods_version))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"图片","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("ws-show-img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.ImageUrl+e.row.image}})]}}])})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"代理商价格"}},[t._v("\n        "+t._s(0===t.form.price_type?"默认":"一口价")+"\n      ")]),t._v(" "),o("el-form-item",{attrs:{label:"状态"}},[t._v("\n        "+t._s(0===t.form.status?"上架":"下架")+"\n      ")]),t._v(" "),o("el-form-item",{attrs:{label:"置顶权重"}},[t._v("\n        "+t._s(t.form.goods_top)+"\n      ")]),t._v(" "),o("el-form-item",{attrs:{label:"详情介绍"}},[o("div",{domProps:{innerHTML:t._s(t.form.body)}},[t._v(t._s(t.form.body))])]),t._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toModify()}}},[t._v("编辑产品")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.$router.back(-1)}}},[t._v("取消")])],1)],1)],1)],1)},[],!1,null,"0213366b",null);s.options.__file="details.vue";e.default=s.exports},ea7z:function(t,e,o){"use strict";var r=o("wklq");o.n(r).a},wklq:function(t,e,o){}}]);