(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1b22"],{Cm8K:function(t,e,r){"use strict";r.r(e);var i=r("P2sY"),s=r.n(i),a={data:function(){return{ImageUrl:"",title:"创建活动",dialogImageUrl:"",showImageDialog:!1,typeList:[],form:{date:[],stop_time:""},formRules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],explain:[{required:!0,message:"请输入活动简介",trigger:"blur"}],place:[{required:!0,message:"请输入活动地点",trigger:"blur"}],date:[{required:!0,message:"请选择活动时间",trigger:"blur"}],stop_time:[{required:!0,message:"请选择报名截止时间",trigger:"blur"}],host_party:[{required:!0,message:"请输入主办方",trigger:"blur"}],host_contact:[{required:!0,message:"请输入主办方电话",trigger:"blur"}],picture:[{required:!0,message:"请输入活动封面图",trigger:"blur"}],regulations:[{required:!0,message:"请输入活动规则",trigger:"blur"}],details:[{required:!0,message:"请输入活动详情",trigger:"blur"}],limit_number:[{required:!0,message:"请输入活动人数",trigger:"blur"}],activity_type_id:[{required:!0,message:"请选择活动类型id",trigger:"blur"}],audit_mode:[{required:!0,message:"请选择审核方式",trigger:"blur"}],notice:[{required:!0,message:"请选择通知方式",trigger:"blur"}]}}},watch:{},created:function(){this.getTypeList(),this.$route.query.id&&(this.form.id=this.$route.query.id)},methods:{getTypeList:function(){var t=this;this.$store.dispatch("GetConnect",{url:"activity/getTypeList"}).then(function(e){t.typeList=e.data,t.form.id&&t.loadData()}).catch(function(e){t.$message.error(e.msg+",请刷新或联系管理员")})},loadData:function(){var t=this,e="activity/getActivityInfo/"+this.form.id;this.$store.dispatch("GetConnect",{url:e}).then(function(e){s()(t.form,e.data),t.form.date=[e.data.start_time,e.data.end_time]}).catch(function(e){t.$message.error(e.msg+",请刷新或联系管理员")})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var r=s()({},e.form);r.date&&0!==r.date.length&&(r.start_time=r.date[0],r.end_time=r.date[0]),e.$store.dispatch("GetConnect",{url:"activity/addActivity",data:r}).then(function(t){e.$message.success(t.msg),e.$router.back(-1)}).catch(function(t){e.$message.error(t.msg)})}else e.$message.error("提交失败,请检查必填项")})},resetForm:function(t){this.$refs[t].resetFields()}}},o=(r("I9VR"),r("KHd+")),m=Object(o.a)(a,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container bg-gray"},[r("el-card",{staticClass:"box-1"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[t._v("活动详情")])]),t._v(" "),r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"160px"}},[r("el-form-item",{attrs:{label:"活动名称",prop:"name"}},[t._v(t._s(t.form.name))]),t._v(" "),r("el-form-item",{attrs:{label:"副标题",prop:"explain"}},[t._v(t._s(t.form.explain))]),t._v(" "),r("el-form-item",{attrs:{label:"活动状态",prop:"explain"}},[0===t.form.activity_status?r("el-tag",{attrs:{type:"danger"}},[t._v(t._s(t.form.statusText))]):t._e(),t._v(" "),1===t.form.activity_status?r("el-tag",{attrs:{type:"primary"}},[t._v(t._s(t.form.statusText))]):t._e(),t._v(" "),2===t.form.activity_status?r("el-tag",{attrs:{type:"warning"}},[t._v(t._s(t.form.statusText))]):t._e(),t._v(" "),3===t.form.activity_status?r("el-tag",{attrs:{type:"success"}},[t._v(t._s(t.form.statusText))]):t._e(),t._v(" "),4===t.form.activity_status?r("el-tag",{attrs:{type:"info"}},[t._v(t._s(t.form.statusText))]):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"活动地点",prop:"place"}},[t._v(t._s(t.form.place))]),t._v(" "),r("el-form-item",{attrs:{label:"活动时间",prop:"date"}},[t._v(t._s(t.form.start_time)+" 至 "+t._s(t.form.end_time))]),t._v(" "),r("el-form-item",{attrs:{label:"报名截止",prop:"stop_time"}},[t._v(t._s(t.form.stop_time))]),t._v(" "),r("el-form-item",{attrs:{label:"主办方",prop:"host_party"}},[t._v(t._s(t.form.host_party))]),t._v(" "),r("el-form-item",{attrs:{label:"联系方式",prop:"host_contact"}},[t._v(t._s(t.form.host_contact))]),t._v(" "),r("el-form-item",{attrs:{label:"活动图片",prop:"picture"}},[r("ws-show-img",{staticStyle:{width:"188px",height:"100px"},attrs:{src:t.ImageUrl+t.form.picture}})],1),t._v(" "),r("el-form-item",{attrs:{label:"活动须知",prop:"regulations"}},[t._v(t._s(t.form.regulations))]),t._v(" "),r("el-form-item",{attrs:{label:"活动详情"}},[r("div",{domProps:{innerHTML:t._s(t.form.details)}},[t._v(t._s(t.form.details))])]),t._v(" "),r("el-form-item",{attrs:{label:"人数限制",prop:"limit_number"}},[t._v(t._s(t.form.limit_number))]),t._v(" "),r("el-form-item",{attrs:{label:"活动类型",prop:"activity_type_id"}},[t._v(t._s(t.form.activity_type_name))]),t._v(" "),r("el-form-item",{attrs:{label:"审核方式",prop:"audit_mode"}},[0===t.form.audit_mode?r("div",[t._v("手动通过")]):t._e(),t._v(" "),1===t.form.audit_mode?r("div",[t._v("自动审核")]):t._e()]),t._v(" "),r("el-form-item",{attrs:{label:"通知方式",prop:"notice"}},[1===t.form.notice?r("div",[t._v("微信")]):t._e(),t._v(" "),2===t.form.notice?r("div",[t._v("短信")]):t._e(),t._v(" "),3===t.form.notice?r("div",[t._v("微信&短信")]):t._e()])],1)],1)],1)},[],!1,null,"c5158022",null);m.options.__file="info.vue";e.default=m.exports},I9VR:function(t,e,r){"use strict";var i=r("yc2w");r.n(i).a},yc2w:function(t,e,r){}}]);